{"version":3,"file":"static/js/106.ff81ce91.chunk.js","mappings":"8MAgJA,UAzIqB,WAAO,IAAD,EACzB,GAA0BA,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KAEQC,GAAiBC,EAAAA,EAAAA,MAAjBD,aAEFE,GAAWC,EAAAA,EAAAA,MAEXC,GAAsBC,EAAAA,EAAAA,QAAM,UAACH,EAASI,aAAV,QAAmB,WAE/CC,EAAiB,gBAAYP,GACnC,GAAgDL,EAAAA,EAAAA,UAAS,CAAC,GAA1D,eAAOa,EAAP,KAAyBC,EAAzB,KAcA,OAZAC,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,GAASJ,GACNK,MAAK,SAAAC,GAEJJ,EAAoBI,EACrB,IACAC,OAAM,SAAAlB,GACLC,EAASD,GACTG,EAAU,WACX,GACJ,GAAE,CAACQ,IAEW,aAAXT,GACFiB,QAAQC,IAAIpB,EAAMqB,UAEhB,iCACE,8EAAiBrB,EAAMqB,YACvB,SAAC,EAAAC,KAAD,CAAMC,GAAIf,EAAoBgB,QAA9B,UACE,oIAQN,gCAC4C,IAAzCC,OAAOC,KAAKd,GAAkBe,SAC7B,4BACE,yCAAiBf,EAAiBgB,eAAlC,cACA,SAAC,EAAAN,KAAD,CAAMC,GAAIf,EAAoBgB,QAA9B,UACE,gIAGF,iBAAKK,UAAU,OAAOC,MAAO,CAAEC,MAAO,SAAtC,WACE,gBACEC,IACEpB,EAAiBqB,YAAjB,yCACsCrB,EAAiBqB,aACnDC,EAENL,UAAU,eACVM,IAAI,MACJL,MAAO,CACLM,OAAQ,OACRL,MAAO,WAGX,iBAAKF,UAAU,YAAf,WACE,eAAIA,UAAU,aAAd,SAA4BjB,EAAiBgB,kBAC7C,uBACGhB,EAAiByB,SACdzB,EAAiByB,SACjB,eAGN,iBACEP,MAAO,CACLQ,QAAS,OACTC,cAAe,UAHnB,WAME,2BACE,+CACA,cAAGT,MAAO,CAAEU,OAAQ,GAApB,SAA0B5B,EAAiB6B,mBAG7C,eAAGX,MAAO,CAAEY,aAAc,OAA1B,8BACoB,KAClB,4BACG9B,EAAiB+B,qBAAqB,GAAGC,WAAWC,oBAIzD,eAAGf,MAAO,CAAEY,aAAc,OAA1B,+BACqB,KACnB,4BACG9B,EAAiBkC,kBAAkBD,oBAGxC,eAAGf,MAAO,CAAEY,aAAc,OAA1B,uBACW,8BAAS9B,EAAiBmC,QAA1B,aAEX,0BACE,yCACA,6CAAqBnC,EAAiBoC,iBACtC,4CAAoBpC,EAAiBqC,qBAIzC,SAAC,EAAA3B,KAAD,CACEC,GAAIX,EAAiBsC,SAAWtC,EAAiBsC,SAAW,IAC5DrB,UAAU,kBACVsB,OAAO,SACPC,IAAI,aAJN,yCAWJ,2BACE,yBACE,SAAC,EAAA9B,KAAD,CAAMC,GAAG,OAAT,kCAEF,yBACE,SAAC,EAAAD,KAAD,CAAMC,GAAG,UAAT,0CAKR,SAAC,EAAA8B,SAAD,CACEC,UACE,gBAAKzB,UAAU,eAAe0B,KAAK,SAAnC,UACE,iBAAM1B,UAAU,kBAAhB,0BAHN,UAOE,SAAC,KAAD,QAIP,C","sources":["components/MovieDetails.jsx"],"sourcesContent":["import { Suspense, useRef, useState } from 'react';\nimport { useEffect } from 'react';\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport { getQuery } from 'services/fetch';\nimport defaultImg from '../images/noPoster.webp';\n\n// Сторінка з детальною інформацією про фільм\nconst MovieDetails = () => {\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState('');\n\n  const { currentMovie } = useParams(); // забираю з адресного рядку ID фільму\n\n  const location = useLocation();\n  // console.log('MovieDetails >> location:', location);\n  const backLinkLocationRef = useRef(location.state ?? '/movies');\n  // console.log('MovieDetails >> backLinkLocationRef:', backLinkLocationRef);\n  const URL_QUERY_OPTIONS = `movie/${currentMovie}`;\n  const [currentMovieResp, setCurrentMovieResp] = useState({});\n\n  useEffect(() => {\n    getQuery(URL_QUERY_OPTIONS)\n      .then(response => {\n        // console.log(response);\n        setCurrentMovieResp(response);\n      })\n      .catch(error => {\n        setError(error);\n        setStatus('rejected');\n      });\n  }, [URL_QUERY_OPTIONS]);\n\n  if (status === 'rejected') {\n    console.log(error.message);\n    return (\n      <>\n        <h2>{`Помилка: ${error.message}`}</h2>\n        <Link to={backLinkLocationRef.current}>\n          <p>Повернутись назад</p>\n        </Link>\n      </>\n    );\n  }\n\n  // Щоб не блимало спочатку заглушка-зображення роблю перевірку чи є об'єкт пустий\n  return (\n    <>\n      {Object.keys(currentMovieResp).length !== 0 && (\n        <div>\n          <h1>Details of \"{currentMovieResp.original_title}\" movie</h1>\n          <Link to={backLinkLocationRef.current}>\n            <p>Повернутись назад</p>\n          </Link>\n\n          <div className=\"card\" style={{ width: '28rem' }}>\n            <img\n              src={\n                currentMovieResp.poster_path\n                  ? `https://image.tmdb.org/t/p/w500${currentMovieResp.poster_path}`\n                  : defaultImg\n              }\n              className=\"card-img-top\"\n              alt=\"...\"\n              style={{\n                height: '100%',\n                width: '100%',\n              }}\n            />\n            <div className=\"card-body\">\n              <h5 className=\"card-title\">{currentMovieResp.original_title}</h5>\n              <p>\n                {currentMovieResp.overview\n                  ? currentMovieResp.overview\n                  : 'No review'}\n              </p>\n\n              <div\n                style={{\n                  display: 'flex',\n                  flexDirection: 'column',\n                }}\n              >\n                <h4>\n                  <strong>Release date:</strong>\n                  <p style={{ margin: 0 }}>{currentMovieResp.release_date}</p>\n                </h4>\n\n                <p style={{ marginBottom: '5px' }}>\n                  Original country:{' '}\n                  <strong>\n                    {currentMovieResp.production_countries[0].iso_3166_1.toUpperCase()}\n                  </strong>\n                </p>\n\n                <p style={{ marginBottom: '5px' }}>\n                  Original language:{' '}\n                  <strong>\n                    {currentMovieResp.original_language.toUpperCase()}\n                  </strong>\n                </p>\n                <p style={{ marginBottom: '5px' }}>\n                  Runtime: <strong>{currentMovieResp.runtime}min</strong>\n                </p>\n                <p>\n                  <strong>Rating:</strong>\n                  <span>Average vote: {currentMovieResp.vote_average}</span>\n                  <span>Total votes: {currentMovieResp.vote_count}</span>\n                </p>\n              </div>\n\n              <Link\n                to={currentMovieResp.homepage ? currentMovieResp.homepage : '*'}\n                className=\"btn btn-primary\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n              >\n                Go to the movie page\n              </Link>\n            </div>\n          </div>\n\n          <ul>\n            <li>\n              <Link to=\"cast\">to Cast the movie</Link>\n            </li>\n            <li>\n              <Link to=\"reviews\">to Review the movie</Link>\n            </li>\n          </ul>\n        </div>\n      )}\n      <Suspense\n        fallback={\n          <div className=\"spinner-grow\" role=\"status\">\n            <span className=\"visually-hidden\">Loading...</span>\n          </div>\n        }\n      >\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["useState","error","setError","status","setStatus","currentMovie","useParams","location","useLocation","backLinkLocationRef","useRef","state","URL_QUERY_OPTIONS","currentMovieResp","setCurrentMovieResp","useEffect","getQuery","then","response","catch","console","log","message","Link","to","current","Object","keys","length","original_title","className","style","width","src","poster_path","defaultImg","alt","height","overview","display","flexDirection","margin","release_date","marginBottom","production_countries","iso_3166_1","toUpperCase","original_language","runtime","vote_average","vote_count","homepage","target","rel","Suspense","fallback","role"],"sourceRoot":""}