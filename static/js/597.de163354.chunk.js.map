{"version":3,"file":"static/js/597.de163354.chunk.js","mappings":"sMAkIA,UAzHa,WACX,OAA0BA,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KAEQC,GAAiBC,EAAAA,EAAAA,MAAjBD,aACFE,EAAiB,gBAAYF,EAAZ,YACvB,GAAgDL,EAAAA,EAAAA,UAAS,IAAzD,eAAOQ,EAAP,KAAyBC,EAAzB,KAeA,OAZAC,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,GAASJ,GACNK,MAAK,SAAAC,GAEJJ,EAAoBI,EAASC,KAC9B,IACAC,OAAM,SAAAd,GACLC,EAASD,GACTG,EAAU,WACX,GACJ,GAAE,CAACG,IAEW,aAAXJ,GACK,8EAAiBF,EAAMe,YAI9B,iCACE,qCAE6B,IAA5BR,EAAiBS,QAChB,gBAAKC,UAAU,YAAYC,GAAG,mBAA9B,SACGX,EAAiBY,KAAI,SAAAC,GACpB,OAGE,0BAOE,iBAAKH,UAAU,iBAAf,WACE,eAAIA,UAAU,mBAAd,UACE,mBACEA,UAAU,6BACVI,KAAK,SACL,iBAAe,WACf,qCAA6BD,EAAMF,GAAnC,YAAyCE,EAAME,UAC5CC,cACAC,QAAQ,kBAAmB,IAC3BC,QACH,gBAAc,QACd,mCAA2BL,EAAMF,GAAjC,YAAuCE,EAAME,UAC1CC,cACAC,QAAQ,kBAAmB,IAC3BC,QACHC,MAAO,CAAEC,SAAU,UAbrB,SAeGP,EAAMQ,UAGX,gBACEV,GAAE,mBAAcE,EAAMF,GAApB,YAA0BE,EAAME,UAC/BC,cACAC,QAAQ,kBAAmB,IAC3BC,QACHR,UAAU,8BACV,iBAAe,oBANjB,UAQE,iBACEA,UAAU,iBACVS,MAAO,CACLG,MAAO,OACPC,QAAS,QAJb,WAOE,gBACEC,IACEX,EAAMY,aAAN,yCACsCZ,EAAMY,cACxCC,EAENhB,UAAU,eACViB,IAAI,MACJR,MAAO,CACLS,SAAU,QACVC,SAAU,QACVC,OAAQ,OACRC,YAAa,WAGjB,iBACEZ,MAAO,CACLI,QAAS,OACTS,cAAe,UAHnB,WAME,2BACE,wCACA,uBAAInB,EAAMoB,oBAEZ,2BACE,wCACA,uBAAIpB,EAAME,2BArEtB,UACUF,EAAMF,GADhB,YACsBE,EAAME,UACvBC,cACAA,cACAC,QAAQ,kBAAmB,IAC3BC,QAwER,MAGH,2BAIP,C","sources":["components/Cast.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getQuery } from 'services/fetch';\n\nimport defaultImg from '../images/noUser.jpg';\n\n// Інформація про акторський склад\n// Рендериться на сторінці MovieDetails.\n\nconst Cast = () => {\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState('');\n\n  const { currentMovie } = useParams();\n  const URL_QUERY_OPTIONS = `movie/${currentMovie}/credits`;\n  const [currentMovieCast, setCurrentMovieCast] = useState([]);\n  // console.log('Cast >> currentMovieCast:', currentMovieCast);\n\n  useEffect(() => {\n    getQuery(URL_QUERY_OPTIONS)\n      .then(response => {\n        // console.log('getQuery >> response:', response);\n        setCurrentMovieCast(response.cast);\n      })\n      .catch(error => {\n        setError(error);\n        setStatus('rejected');\n      });\n  }, [URL_QUERY_OPTIONS]);\n\n  if (status === 'rejected') {\n    return <h2>{`Помилка: ${error.message}`}</h2>;\n  }\n\n  return (\n    <>\n      <h3>THE CAST</h3>\n\n      {currentMovieCast.length !== 0 ? (\n        <div className=\"accordion\" id=\"accordionExample\">\n          {currentMovieCast.map(actor => {\n            return (\n              // Такий key та id в акордеоні довелось робити через те, що трапляються випадки, коли актор у фільмі записаний два рази (помилка у базі бекенду).\n              // А ще один актор може зніматись у декількох ролях і тоді його робі йдуть через косі лінії.\n              <div\n                key={`${actor.id}-${actor.character\n                  .toLowerCase()\n                  .toLowerCase()\n                  .replace(/[^a-zA-Z0-9-_]/g, '')\n                  .trim()}`}\n              >\n                <div className=\"accordion-item\">\n                  <h2 className=\"accordion-header\">\n                    <button\n                      className=\"accordion-button collapsed\"\n                      type=\"button\"\n                      data-bs-toggle=\"collapse\"\n                      data-bs-target={`#collapse-${actor.id}-${actor.character\n                        .toLowerCase()\n                        .replace(/[^a-zA-Z0-9-_]/g, '') // видаляє всі заборонені в селекторах символи\n                        .trim()}`}\n                      aria-expanded=\"false\"\n                      aria-controls={`collapse-${actor.id}-${actor.character\n                        .toLowerCase()\n                        .replace(/[^a-zA-Z0-9-_]/g, '')\n                        .trim()}`}\n                      style={{ fontSize: '1.2rem' }}\n                    >\n                      {actor.name}\n                    </button>\n                  </h2>\n                  <div\n                    id={`collapse-${actor.id}-${actor.character\n                      .toLowerCase()\n                      .replace(/[^a-zA-Z0-9-_]/g, '')\n                      .trim()}`}\n                    className=\"accordion-collapse collapse\"\n                    data-bs-parent=\"#accordionExample\"\n                  >\n                    <div\n                      className=\"accordion-body\"\n                      style={{\n                        width: '100%',\n                        display: 'flex',\n                      }}\n                    >\n                      <img\n                        src={\n                          actor.profile_path\n                            ? `https://image.tmdb.org/t/p/w500${actor.profile_path}`\n                            : defaultImg\n                        }\n                        className=\"card-img-top\"\n                        alt=\"...\"\n                        style={{\n                          minWidth: '150px',\n                          maxWidth: '150px',\n                          height: '100%',\n                          marginRight: '20px',\n                        }}\n                      />\n                      <div\n                        style={{\n                          display: 'flex',\n                          flexDirection: 'column',\n                        }}\n                      >\n                        <h2>\n                          <strong>Name: </strong>\n                          <p>{actor.original_name}</p>\n                        </h2>\n                        <h3>\n                          <strong>Role: </strong>\n                          <p>{actor.character}</p>\n                        </h3>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      ) : (\n        'The cast is unknown :('\n      )}\n    </>\n  );\n};\n\nexport default Cast;\n"],"names":["useState","error","setError","status","setStatus","currentMovie","useParams","URL_QUERY_OPTIONS","currentMovieCast","setCurrentMovieCast","useEffect","getQuery","then","response","cast","catch","message","length","className","id","map","actor","type","character","toLowerCase","replace","trim","style","fontSize","name","width","display","src","profile_path","defaultImg","alt","minWidth","maxWidth","height","marginRight","flexDirection","original_name"],"sourceRoot":""}