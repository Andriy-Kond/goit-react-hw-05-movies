{"version":3,"file":"static/js/681.45e6a6c5.chunk.js","mappings":"6LAMA,EAA4BA,EAAQ,IAA5BC,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,KA4InB,UAtIgB,WACd,OAA0BC,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KAEQC,EAAiBP,IAAjBO,aACFC,EAAiB,gBAAYD,EAAZ,YACvB,GAAsDL,EAAAA,EAAAA,UAAS,IAA/D,eAAOO,EAAP,KAA4BC,EAA5B,KAeA,OAZAC,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,GAASJ,GACNK,MAAK,SAAAC,GAEJJ,EAAuBI,EAASC,QACjC,IACAC,OAAM,SAAAb,GACLC,EAASD,GACTG,EAAU,WACX,GACJ,GAAE,CAACE,IAEW,aAAXH,GACK,8EAAiBF,EAAMc,YAI9B,iCACE,wCAEgC,IAA/BR,EAAoBS,QACnB,gBAAKC,UAAU,YAAYC,GAAG,mBAA9B,SACGX,EAAoBY,KACnB,YAAmD,IAAhDC,EAA+C,EAA/CA,eAAgBF,EAA+B,EAA/BA,GAAIG,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,QAASC,EAAU,EAAVA,IAClCC,EAAaJ,EAAeK,YAkBhC,OAbID,EAFAA,EACEA,EAAWE,SAAS,OACTF,EACVG,QAAQ,gBAAiB,YACzBC,OAEO,0CAAsCJ,GAGrCK,GAOb,0BACE,iBAAKZ,UAAU,iBAAf,WACE,eAAIA,UAAU,mBAAd,UACE,oBACEA,UAAU,6BACVa,KAAK,SACL,iBAAe,WACf,wCAAgCZ,GAChC,gBAAc,QACd,sCAA8BA,GAC9Ba,MAAO,CAAEC,SAAU,UAPrB,+BAUE,4CAAaX,GAAb,aAGJ,gBACEH,GAAE,sBAAiBA,GACnBD,UAAU,8BACV,iBAAe,oBAHjB,UAKE,iBACEA,UAAU,iBACVc,MAAO,CACLE,MAAO,OACPC,QAAS,QAJb,WAOE,gBACEC,IAAKX,EACLP,UAAU,eACVmB,IAAI,MACJL,MAAO,CACLM,SAAU,QACVC,SAAU,QACVC,OAAQ,OACRC,YAAa,WAIjB,iBACET,MAAO,CACLG,QAAS,OACTO,cAAe,UAHnB,WAME,2BACE,wCACA,uBAAIrB,EAAesB,eAErB,2BACE,2CACA,cAAGX,MAAO,CAAEC,SAAU,QAAtB,mBAAoCV,EAAQqB,MAC1C,EACA,KAFF,aAMF,SAAC5C,EAAD,CACE6C,GAAE,UAAKrB,GACPN,UAAU,kBACV4B,OAAO,SACPC,IAAI,aAJN,mCA1DA5B,EAwEb,MAIL,sBAIP,C","sources":["components/Reviews.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { getQuery } from 'services/fetch';\n\nimport defaultImg from '../images/noUser.jpg';\n// console.log('defaultImg:', defaultImg);\n\nconst { useParams, Link } = require('react-router-dom');\n\n// Для приймання динамич. параметрів використовуємо useParams\n\n// інформація про огляди\n// Рендериться на сторінці MovieDetails.\nconst Reviews = () => {\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState('');\n\n  const { currentMovie } = useParams();\n  const URL_QUERY_OPTIONS = `movie/${currentMovie}/reviews`;\n  const [currentMovieReviews, setCurrentMovieReviews] = useState([]);\n  // console.log('Reviews >> currentMovieReviews:', currentMovieReviews);\n\n  useEffect(() => {\n    getQuery(URL_QUERY_OPTIONS)\n      .then(response => {\n        // console.log('getQuery >> response:', response);\n        setCurrentMovieReviews(response.results);\n      })\n      .catch(error => {\n        setError(error);\n        setStatus('rejected');\n      });\n  }, [URL_QUERY_OPTIONS]);\n\n  if (status === 'rejected') {\n    return <h2>{`Помилка: ${error.message}`}</h2>;\n  }\n\n  return (\n    <>\n      <h3>THE REVIEWS</h3>\n\n      {currentMovieReviews.length !== 0 ? (\n        <div className=\"accordion\" id=\"accordionExample\">\n          {currentMovieReviews.map(\n            ({ author_details, id, author, content, url }) => {\n              let currentSrc = author_details.avatar_path;\n              // console.log('currentSrc 1:', currentSrc);\n\n              if (currentSrc) {\n                if (currentSrc.includes('www')) {\n                  currentSrc = currentSrc\n                    .replace('/https://www.', 'https://')\n                    .trim();\n                } else {\n                  currentSrc = `https://image.tmdb.org/t/p/w500/${currentSrc}`;\n                }\n              } else {\n                currentSrc = defaultImg;\n                // currentSrc = 'images/noUser.jpg'; // ??? чомусь не завантажується такий шлях\n              }\n\n              // console.log('currentSrc 2:', currentSrc);\n\n              return (\n                <div key={id}>\n                  <div className=\"accordion-item\">\n                    <h2 className=\"accordion-header\">\n                      <button\n                        className=\"accordion-button collapsed\"\n                        type=\"button\"\n                        data-bs-toggle=\"collapse\"\n                        data-bs-target={`#collapseTwo-${id}`}\n                        aria-expanded=\"false\"\n                        aria-controls={`collapseTwo-${id}`}\n                        style={{ fontSize: '1.2rem' }}\n                      >\n                        Review from: &nbsp;\n                        <strong> {`${author}`} </strong>\n                      </button>\n                    </h2>\n                    <div\n                      id={`collapseTwo-${id}`}\n                      className=\"accordion-collapse collapse\"\n                      data-bs-parent=\"#accordionExample\"\n                    >\n                      <div\n                        className=\"accordion-body\"\n                        style={{\n                          width: '100%',\n                          display: 'flex',\n                        }}\n                      >\n                        <img\n                          src={currentSrc}\n                          className=\"card-img-top\"\n                          alt=\"...\"\n                          style={{\n                            minWidth: '150px',\n                            maxWidth: '150px',\n                            height: '100%',\n                            marginRight: '20px',\n                          }}\n                        />\n\n                        <div\n                          style={{\n                            display: 'flex',\n                            flexDirection: 'column',\n                          }}\n                        >\n                          <h4>\n                            <strong>Name: </strong>\n                            <p>{author_details.username}</p>\n                          </h4>\n                          <h5>\n                            <strong>Message: </strong>\n                            <p style={{ fontSize: '1rem' }}>{`${content.slice(\n                              0,\n                              300\n                            )}...`}</p>\n                          </h5>\n\n                          <Link\n                            to={`${url}`}\n                            className=\"btn btn-primary\"\n                            target=\"_blank\"\n                            rel=\"noreferrer\"\n                          >\n                            Read more\n                          </Link>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              );\n            }\n          )}\n        </div>\n      ) : (\n        'No any review yet'\n      )}\n    </>\n  );\n};\n\nexport default Reviews;\n"],"names":["require","useParams","Link","useState","error","setError","status","setStatus","currentMovie","URL_QUERY_OPTIONS","currentMovieReviews","setCurrentMovieReviews","useEffect","getQuery","then","response","results","catch","message","length","className","id","map","author_details","author","content","url","currentSrc","avatar_path","includes","replace","trim","defaultImg","type","style","fontSize","width","display","src","alt","minWidth","maxWidth","height","marginRight","flexDirection","username","slice","to","target","rel"],"sourceRoot":""}