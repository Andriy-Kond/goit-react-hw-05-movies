{"version":3,"file":"static/js/597.6600bd84.chunk.js","mappings":"sMAuHA,UAhHa,WACX,OAA0BA,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KAEQC,GAAiBC,EAAAA,EAAAA,MAAjBD,aACFE,EAAiB,gBAAYF,EAAZ,YACvB,GAAgDL,EAAAA,EAAAA,UAAS,IAAzD,eAAOQ,EAAP,KAAyBC,EAAzB,KAeA,OAZAC,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,GAASJ,GACNK,MAAK,SAAAC,GAEJJ,EAAoBI,EAASC,KAC9B,IACAC,OAAM,SAAAd,GACLC,EAASD,GACTG,EAAU,WACX,GACJ,GAAE,CAACG,IAEW,aAAXJ,GACK,8EAAiBF,EAAMe,YAI9B,iCACE,qCAE6B,IAA5BR,EAAiBS,OAChB,0BAEA,gBAAKC,UAAU,YAAYC,GAAG,mBAA9B,SACGX,EAAiBY,KAChB,YAA2D,IAAxDD,EAAuD,EAAvDA,GAAIE,EAAmD,EAAnDA,UAAWC,EAAwC,EAAxCA,aAAcC,EAA0B,EAA1BA,KAAMC,EAAoB,EAApBA,cAG9BC,EAAOJ,EACVK,cACAC,QAAQ,kBAAmB,IAC3BC,OACH,OACE,0BACE,iBAAKV,UAAU,iBAAf,WACE,eAAIA,UAAU,mBAAd,UACE,mBACEA,UAAU,6BACVW,KAAK,SACL,iBAAe,WACf,qCAA6BV,EAA7B,YAAmCM,GACnC,gBAAc,QACd,mCAA2BN,EAA3B,YAAiCM,GACjCK,MAAO,CAAEC,SAAU,UAPrB,SASGR,OAGL,gBACEJ,GAAE,mBAAcA,EAAd,YAAoBM,GACtBP,UAAU,8BACV,iBAAe,oBAHjB,UAKE,iBACEA,UAAU,iBACVY,MAAO,CACLE,MAAO,OACPC,QAAS,QAJb,WAOE,gBACEC,IACEZ,EAAY,yCAC0BA,GAClCa,EAENjB,UAAU,eACVkB,IAAI,MACJN,MAAO,CACLO,SAAU,QACVC,SAAU,QACVC,OAAQ,OACRC,YAAa,WAGjB,iBACEV,MAAO,CACLG,QAAS,OACTQ,cAAe,UAHnB,WAME,2BACE,wCACA,uBAAIjB,QAEN,2BACE,wCACA,uBAAIH,mBAtDhB,UAAaF,EAAb,YAAmBM,GA8DtB,QAMZ,C","sources":["components/Cast.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getQuery } from 'services/fetch';\nimport defaultImg from '../images/noUser.jpg';\n\n// Інформація про акторський склад\n// Рендериться на сторінці MovieDetails.\nconst Cast = () => {\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState('');\n\n  const { currentMovie } = useParams();\n  const URL_QUERY_OPTIONS = `movie/${currentMovie}/credits`;\n  const [currentMovieCast, setCurrentMovieCast] = useState([]);\n  // console.log('Cast >> currentMovieCast:', currentMovieCast);\n\n  useEffect(() => {\n    getQuery(URL_QUERY_OPTIONS)\n      .then(response => {\n        // console.log('getQuery >> response:', response);\n        setCurrentMovieCast(response.cast);\n      })\n      .catch(error => {\n        setError(error);\n        setStatus('rejected');\n      });\n  }, [URL_QUERY_OPTIONS]);\n\n  if (status === 'rejected') {\n    return <h2>{`Помилка: ${error.message}`}</h2>;\n  }\n\n  return (\n    <>\n      <h3>THE CAST</h3>\n\n      {currentMovieCast.length === 0 ? (\n        'The cast is unknown :('\n      ) : (\n        <div className=\"accordion\" id=\"accordionExample\">\n          {currentMovieCast.map(\n            ({ id, character, profile_path, name, original_name }) => {\n              // Такий key та селектори в акордеоні довелось робити через те, що трапляються випадки, коли актор у фільмі записаний два рази (помилка у базі бекенду).\n              // А ще один актор може зніматись у декількох ролях і тоді його ролі йдуть через косу лінію.\n              const char = character\n                .toLowerCase()\n                .replace(/[^a-zA-Z0-9-_]/g, '') // видаляє всі заборонені в селекторах символи\n                .trim();\n              return (\n                <div key={`${id}-${char}`}>\n                  <div className=\"accordion-item\">\n                    <h2 className=\"accordion-header\">\n                      <button\n                        className=\"accordion-button collapsed\"\n                        type=\"button\"\n                        data-bs-toggle=\"collapse\"\n                        data-bs-target={`#collapse-${id}-${char}`}\n                        aria-expanded=\"false\"\n                        aria-controls={`collapse-${id}-${char}`}\n                        style={{ fontSize: '1.2rem' }}\n                      >\n                        {name}\n                      </button>\n                    </h2>\n                    <div\n                      id={`collapse-${id}-${char}`}\n                      className=\"accordion-collapse collapse\"\n                      data-bs-parent=\"#accordionExample\"\n                    >\n                      <div\n                        className=\"accordion-body\"\n                        style={{\n                          width: '100%',\n                          display: 'flex',\n                        }}\n                      >\n                        <img\n                          src={\n                            profile_path\n                              ? `https://image.tmdb.org/t/p/w500${profile_path}`\n                              : defaultImg\n                          }\n                          className=\"card-img-top\"\n                          alt=\"...\"\n                          style={{\n                            minWidth: '150px',\n                            maxWidth: '150px',\n                            height: '100%',\n                            marginRight: '20px',\n                          }}\n                        />\n                        <div\n                          style={{\n                            display: 'flex',\n                            flexDirection: 'column',\n                          }}\n                        >\n                          <h2>\n                            <strong>Name: </strong>\n                            <p>{original_name}</p>\n                          </h2>\n                          <h3>\n                            <strong>Role: </strong>\n                            <p>{character}</p>\n                          </h3>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              );\n            }\n          )}\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Cast;\n"],"names":["useState","error","setError","status","setStatus","currentMovie","useParams","URL_QUERY_OPTIONS","currentMovieCast","setCurrentMovieCast","useEffect","getQuery","then","response","cast","catch","message","length","className","id","map","character","profile_path","name","original_name","char","toLowerCase","replace","trim","type","style","fontSize","width","display","src","defaultImg","alt","minWidth","maxWidth","height","marginRight","flexDirection"],"sourceRoot":""}