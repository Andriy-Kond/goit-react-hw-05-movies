{"version":3,"file":"static/js/134.e034053e.chunk.js","mappings":"8MAiLA,UA3Ke,WAAO,IAAD,EAEnB,GAA0BA,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KAGA,GAAwCC,EAAAA,EAAAA,iBAAgB,CAAC,GAAzD,eAAOC,EAAP,KAAqBC,EAArB,KAGMC,EAAS,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,GACzCC,EAAiB,eACvB,GAAsCV,EAAAA,EAAAA,UAAS,IAA/C,eAAOW,EAAP,KAAoBC,EAApB,MAEAC,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,GAASJ,EAAmBJ,GACzBS,MAAK,SAAAC,GAGJJ,EAAeI,EAASC,QACzB,IACAC,OAAM,SAAAjB,GACLC,EAASD,GACTG,EAAU,WACX,GACJ,GAAE,CAACM,EAAmBJ,IAGvB,IAAMa,GAAWC,EAAAA,EAAAA,MASjB,MAAe,aAAXjB,GACK,8EAAiBF,EAAMoB,YAI9B,iCACE,eACEC,MAAO,CACLC,UAAW,QAFf,mCAOA,wDACA,eACED,MAAO,CACLE,aAAc,QAFlB,2CAOA,kBAAOC,KAAK,OAAOC,SA1BG,SAAC,GAA2B,IAAfC,EAAc,EAAxBC,OAAUD,MAErCpB,EAD4B,KAAVoB,EAAe,CAAC,EAAI,CAAEE,MAAOF,GAEhD,EAuBmDA,MAAOnB,IAE/B,IAAvBG,EAAYmB,SACX,gBAAKC,UAAU,YAAYC,GAAG,mBAA9B,SACGrB,EAAYsB,KACX,YASO,IARLD,EAQI,EARJA,GACAE,EAOI,EAPJA,MACAC,EAMI,EANJA,YACAC,EAKI,EALJA,aACAC,EAII,EAJJA,kBACAC,EAGI,EAHJA,aACAC,EAEI,EAFJA,WACAC,EACI,EADJA,SAEA,OACE,0BACE,iBAAKT,UAAU,iBAAf,WACE,eAAIA,UAAU,mBAAd,UACE,oBACEA,UAAU,6BACVN,KAAK,SACL,iBAAe,WACf,wCAAgCO,GAChC,gBAAc,QACd,sCAA8BA,GAC9BV,MAAO,CAAEmB,SAAU,UAPrB,+BAUE,4CAAaP,GAAb,aAGJ,gBACEF,GAAE,sBAAiBA,GACnBD,UAAU,8BACV,iBAAe,oBAHjB,UAKE,iBACEA,UAAU,iBACVT,MAAO,CACLoB,MAAO,OACPC,QAAS,QAJb,WAOE,gBACEC,IACET,EAAW,yCAC2BA,GAClCU,EAENd,UAAU,eACVe,IAAI,MACJxB,MAAO,CACLyB,SAAU,QACVC,SAAU,QACVC,OAAQ,OACRC,YAAa,WAGjB,iBACE5B,MAAO,CACLqB,QAAS,OACTQ,cAAe,UAHnB,WAME,2BACE,+CACA,cAAG7B,MAAO,CAAE8B,OAAQ,GAApB,SAA0BhB,QAG5B,eAAGd,MAAO,CAAEE,aAAc,OAA1B,gCAEE,4BAASa,EAAkBgB,oBAG7B,0BACE,wCADF,KAC2B,mBACzB,8CACgB,4BAASf,QAEzB,mBACA,6CACe,kCAAUC,YAI3B,2BACE,4CACA,cAAGjB,MAAO,CAAEmB,SAAU,QAAtB,SACGD,GAAsB,kBAI3B,SAAC,EAAAc,KAAD,CACEC,GAAE,UAAKvB,GACPD,UAAU,kBACVyB,MAAOrC,EAHT,kDA7EAa,EA0Fb,QAMZ,C","sources":["pages/Movies.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { getQuery } from 'services/fetch';\nimport defaultImg from '../images/noPoster.webp';\n\n// Пошук фільмів за ключовим словом\nconst Movies = () => {\n  // Стейти для помилки\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState('');\n\n  // Стейт параметрів адресного рядку\n  const [searchParams, setSearchParams] = useSearchParams({}); //? Об'єкт чи пустий рядок?\n\n  // Стейти для фільтру Input\n  const movieName = searchParams.get('query') ?? ''; // для запису у input.value\n  const URL_QUERY_OPTIONS = `search/movie`; // рядок запиту згідно з API\n  const [foundMovies, setFoundMovies] = useState([]); // масив знайдених фільмів\n\n  useEffect(() => {\n    getQuery(URL_QUERY_OPTIONS, searchParams)\n      .then(response => {\n        // console.log('getQuery >> response:', response);\n        // console.log(response.results);\n        setFoundMovies(response.results);\n      })\n      .catch(error => {\n        setError(error);\n        setStatus('rejected');\n      });\n  }, [URL_QUERY_OPTIONS, searchParams]);\n\n  // Для кнопки повернення з дочірніх елементів\n  const location = useLocation();\n  // console.log('Movies >> location:', location);\n\n  // Встановлення в адресний рядок значення з Input.onChange\n  const updateInputSearch = ({ target: { value } }) => {\n    const searchObj = value === '' ? {} : { query: value };\n    setSearchParams(searchObj);\n  };\n\n  if (status === 'rejected') {\n    return <h2>{`Помилка: ${error.message}`}</h2>;\n  }\n\n  return (\n    <>\n      <h2\n        style={{\n          marginTop: '20px',\n        }}\n      >\n        It is the Movie Page\n      </h2>\n      <h3>Here you can search movies</h3>\n      <h4\n        style={{\n          marginBottom: '20px',\n        }}\n      >\n        Start enter movie name below\n      </h4>\n      <input type=\"text\" onChange={updateInputSearch} value={movieName} />\n\n      {foundMovies.length !== 0 && (\n        <div className=\"accordion\" id=\"accordionExample\">\n          {foundMovies.map(\n            ({\n              id,\n              title,\n              poster_path,\n              release_date,\n              original_language,\n              vote_average,\n              vote_count,\n              overview,\n            }) => {\n              return (\n                <div key={id}>\n                  <div className=\"accordion-item\">\n                    <h2 className=\"accordion-header\">\n                      <button\n                        className=\"accordion-button collapsed\"\n                        type=\"button\"\n                        data-bs-toggle=\"collapse\"\n                        data-bs-target={`#collapseTwo-${id}`}\n                        aria-expanded=\"false\"\n                        aria-controls={`collapseTwo-${id}`}\n                        style={{ fontSize: '1.2rem' }}\n                      >\n                        Movie title: &nbsp;\n                        <strong> {`${title}`} </strong>\n                      </button>\n                    </h2>\n                    <div\n                      id={`collapseTwo-${id}`}\n                      className=\"accordion-collapse collapse\"\n                      data-bs-parent=\"#accordionExample\"\n                    >\n                      <div\n                        className=\"accordion-body\"\n                        style={{\n                          width: '100%',\n                          display: 'flex',\n                        }}\n                      >\n                        <img\n                          src={\n                            poster_path\n                              ? `https://image.tmdb.org/t/p/w500${poster_path}`\n                              : defaultImg\n                          }\n                          className=\"card-img-top\"\n                          alt=\"...\"\n                          style={{\n                            minWidth: '200px',\n                            maxWidth: '200px',\n                            height: '100%',\n                            marginRight: '20px',\n                          }}\n                        />\n                        <div\n                          style={{\n                            display: 'flex',\n                            flexDirection: 'column',\n                          }}\n                        >\n                          <h4>\n                            <strong>Release date:</strong>\n                            <p style={{ margin: 0 }}>{release_date}</p>\n                          </h4>\n\n                          <p style={{ marginBottom: '5px' }}>\n                            Original language:\n                            <strong>{original_language.toUpperCase()}</strong>\n                          </p>\n\n                          <p>\n                            <strong>Rating:</strong> <br />\n                            <span>\n                              Average vote: <strong>{vote_average}</strong>\n                            </span>\n                            <br />\n                            <span>\n                              Total votes: <strong> {vote_count}</strong>\n                            </span>\n                          </p>\n\n                          <h5>\n                            <strong>Overview: </strong>\n                            <p style={{ fontSize: '1rem' }}>\n                              {overview ? overview : 'No review'}\n                            </p>\n                          </h5>\n\n                          <Link\n                            to={`${id}`}\n                            className=\"btn btn-primary\"\n                            state={location}\n                          >\n                            See more movie's details\n                          </Link>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              );\n            }\n          )}\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["useState","error","setError","status","setStatus","useSearchParams","searchParams","setSearchParams","movieName","get","URL_QUERY_OPTIONS","foundMovies","setFoundMovies","useEffect","getQuery","then","response","results","catch","location","useLocation","message","style","marginTop","marginBottom","type","onChange","value","target","query","length","className","id","map","title","poster_path","release_date","original_language","vote_average","vote_count","overview","fontSize","width","display","src","defaultImg","alt","minWidth","maxWidth","height","marginRight","flexDirection","margin","toUpperCase","Link","to","state"],"sourceRoot":""}